<ion-view>
    <ion-nav-title><mm-format-text watch="true">Available Courses</mm-format-text></ion-nav-title> 
    <ion-nav-buttons side="secondary">
        <a ui-sref="site.mm_searchcourses"  class="button button-icon ion-ios-search-strong"></a>
    </ion-nav-buttons>
    <mm-split-view load-when="coursesLoaded" component="mmCoreCategoryCoursesList">
        <ion-content mm-state-class>
           <!-- <ion-refresher on-refresh="doRefresh()" pulling-text="{{ 'mm.core.pulltorefresh' | translate }}" ng-if="sectionsLoaded"></ion-refresher> -->
            <mm-loading hide-until="coursesLoaded">
                <ul class="list">
                    <li ng-repeat="category in categories" ng-class="{'item-dimmed': category.visible === 0 }">
                        <a ng-if="category.parent == 0 " class="item item-text-wrap" mm-split-view-link="site.mm_category-courses({categoryid: category.id, crs: courses})" title="{{category.name}}" ng-class="">
                            <mm-format-text watch="true">{{category.name}}</mm-format-text>                            
                        </a>
                    </li>
                </ul>
            </mm-loading>
        </ion-content>
    </mm-split-view>
</ion-view>